# $Id: Makefile.in,v 1.1.1.1 2006/04/18 20:17:27 taylor Exp $
####
#### See the file "l2-tools/disclaimers-and-notices.txt" for 
#### information on usage and redistribution of this file, 
#### and for a DISCLAIMER OF ALL WARRANTIES.
####

## build Stanley User components

## THE FIRST CHARACTER OF EACH commandList must be tab
#  targetList:   dependencyList
#	commandList
## evaluate (setq-default indent-tabs-mode t)

.SILENT:

STANLEY_ROOT = @STANLEY_ROOT@
RM = rm -f

build:
	(cd ${STANLEY_ROOT}/interface/user-template/links/terminals; \
	$(RM) input; ln -s ../../modules/terminals/input.cfg input)
	(cd ${STANLEY_ROOT}/interface/user-template/links/terminals; \
	$(RM) output; ln -s ../../modules/terminals/output.cfg output)
	(cd ${STANLEY_ROOT}/interface/user-template/links/terminals; \
	$(RM) port; ln -s ../../modules/terminals/port.cfg port)

	(cd ${STANLEY_ROOT}/interface/user-template/links/attributes; \
	$(RM) attribute; \
	ln -s ../../modules/attributes/attribute.cfg attribute)

	(cd ${STANLEY_ROOT}/interface/user-template/links/attributes; \
	$(RM) displayState; \
	ln -s ../../modules/attributes/displayState.cfg displayState)

	(cd ${STANLEY_ROOT}/interface/user-template/links/modes; \
	$(RM) okMode; \
	ln -s ../../modules/modes/okMode.cfg okMode)
	(cd ${STANLEY_ROOT}/interface/user-template/links/modes; \
	$(RM) faultMode; \
	ln -s ../../modules/modes/faultMode.cfg faultMode)

# ${STANLEY_ROOT}/interface/livingstone/corba/
# LivingstoneCorba.tcl & LivingstoneCorba_impl.tcl are checked into CVS.
# they are regenerated by deleting them, changing LivingstoneCorba.idl
# and running Stanley

# touch all stanley-sample-user-files *.jmpl files so that they
# are newer than the .xmpl files, thus forcing compilation
	(cd ${STANLEY_ROOT}/../stanley-sample-user-files/livingstone/models/components; \
	touch *.jmpl)
	(cd ${STANLEY_ROOT}/../stanley-sample-user-files/livingstone/models/modules; \
	touch *.jmpl)
clean:
	@echo "${STANLEY_ROOT}/interface: nothing to clean"
